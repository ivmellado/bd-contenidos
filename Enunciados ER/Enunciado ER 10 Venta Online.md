Una empresa de venta online solamente para España desea diseñar una base de datos para organizar la información de los artículos disponibles, proveedores y clientes, así como la gestión de los pedidos, facturas y valoraciones de los artículos por los clientes. 

Para empezar, debemos mantener la información de los clientes, en concreto su nif, nombre completo, su email y su contraseña encriptada. Además, los clientes pueden tener varias direcciones a las que poder enviarles los pedidos. Cada dirección la identificaremos por un número de dirección consecutivo para ese cliente y su nif y de cada una guardaremos la dirección al completo en un solo atributo.

 De los artículos a la venta guardaremos su número de referencia único, nombre, descripción, stock, precio, así como el proveedor (uno solo) que facilita dicho artículo. De cada proveedor se conoce su cif, nombre, email, teléfono y cuenta bancaria. Por supuesto, el mismo proveedor puede servir muchos artículos mientras que un artículo solo es servido por un proveedor.  

Para permitir búsquedas, es preciso conocer las categorías (se deben estandarizar) en las que puede clasificarse cada artículo; un artículo puede estar clasificado en varias categorías a la vez (por ejemplo, puede ser de categoría juguete, de tecnología, educativo, etc.). Además, cada artículo puede estar relacionado con otra serie de artículos similares y esta relación desea conocerse, además del grado de similitud que hay entre ellos. Para un artículo puede haber varios artículos que sean similares a él o ninguno. 

Cuando un cliente desea comprar algún artículo se genera un pedido nuevo en la base de datos. Cada pedido tiene asignado un número de pedido único y se guarda la fecha y hora del pedido y cada uno de los artículos incluidos en el pedido. Para cada artículo incluido en el pedido se debe conocer el número de unidades solicitadas. 

Para poder completar la compra, el cliente debe indicar cual de sus direcciones será la dirección para el envío del pedido. Además, debe especificar el tipo de envío que desea para ese pedido. Los tipos de envío deben estandarizarse y cada uno llevará asociado una tarifa (por ejemplo, correo ordinario, correo certificado, empresa de transporte con envío normal, empresa de transporte con envío urgente, etc. y cada uno con su tarifa). El pago, que solo puede hacerse con tarjeta, se hace a través de una pasarela de pago segura de manera externa a nuestra aplicación. A nuestra base de datos, este proceso solo le afecta en que se modificará el estado del pedido de pendiente de pago a pagado cuando se reciba confirmación de pago. 

La tramitación de los pedidos se lleva a cabo por empleados de la empresa de venta online. A estos efectos, para cada empleado hay que almacenar su nif, nss, nombre y apellidos, fecha ingreso en la empresa, dirección completa y teléfono. Hay dos tipos de empleados, los administrativos, que se encargan de revisar los pedidos, generar las facturas y comprobar los pagos, y los preparadores de pedidos. De estos últimos debe conocerse la zona del almacén donde están asignados.  

Cuando se recibe un pedido, éste se asigna a un único empleado de administración, que se encargará de su gestión y de ir revisando o actualizando el estado del pedido (recibido, pagado, en preparación…). Además, genera una factura, que se enviará al cliente junto con el pedido. Cada factura está asociada a un único pedido y se identifica por un número único; además, en la factura física debe figurar la fecha de emisión de la factura y el importe total. Para los pedidos que estén ya enviados hay que conocer los empleados de almacén que participaron en su preparación (pueden ser varios), así como la fecha y hora en que se procedió a su envío. 

Los clientes, además, pueden valorar los artículos dándoles una puntuación y escribiendo una opinión sobre ellos. Se permite que un cliente valore el  mismo artículo más de una vez. Hay que recoger la fecha y la hora en que se registró cada valoración. 

1. Realiza un diagrama Entidad/Relación que represente estas especificaciones, mostrando en ese mismo diagrama los atributos e identificadores de TODAS las entidades y subrayando los identificadores. De la misma forma presenta las asociaciones con sus nombres y atributos correspondientes (el diagrama completo debe estar en una sola cara).