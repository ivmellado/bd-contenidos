Una empresa de venta online solamente para España desea diseñar una base de datos para organizar la información de los artículos disponibles, proveedores y clientes, así como la gestión de los pedidos, facturas y valoraciones de los artículos por los clientes. 

La web de la empresa tiene que ser capaz de mostrar información de los artículos disponibles. Cada artículo se identifica por un número de referencia único y se dispone información de su nombre, descripción, stock, precio, así como el proveedor (uno solo) que facilita dicho artículo y una puntuación media otorgada por los usuarios. De cada proveedor se conoce su CIF, nombre, dirección, teléfono y cuenta bancaria. Por supuesto, el mismo proveedor puede servir muchos artículos.  

Para permitir búsquedas, es preciso conocer las categorías (se deben estandarizar) en las que puede clasificarse cada artículo; un artículo puede estar clasificado en varias categorías a la vez (por ejemplo, puede ser de categoría juguete, de tecnología, educativo, etc.). Además, cada artículo puede estar relacionado con otra serie de artículos similares y esta relación desea conocerse, además del grado de similitud que hay entre ellos. Para un artículo puede haber varios artículos que sean similares a él o ninguno. 

Cuando una persona desea comprar algún artículo se genera un pedido nuevo en la base de datos. Cada pedido tiene asignado un número de pedido único y se guarda la fecha y hora del pedido y cada uno de los artículos incluidos en el pedido. Para cada artículo del pedido se debe conocer el número de unidades solicitadas y el precio unitario del artículo. Es importante guardar el precio del artículo en el momento del pedido pues el precio de los artículos no siempre es el mismo, sino que va cambiando en la base de datos según distintas variables. Un pedido solo puede incluir un máximo de 5 artículos diferentes. 

Para poder completar la compra, la persona debe facilitar sus datos personales (nif, nombre y apellidos), la dirección para el envío del pedido y la dirección de su domicilio, que pueden coincidir o no. Además, debe especificar el tipo de envío que desea para ese pedido. Los tipos de envío deben estandarizarse y cada uno llevará asociado una tarifa (por ejemplo, correo ordinario, correo certificado, empresa de transporte con envío normal, empresa de transporte con envío urgente, etc. y cada uno con su tarifa). El pago, que solo puede hacerse con tarjeta, se hace a través de una pasarela de pago segura de manera externa a nuestra aplicación. Al final del proceso, en nuestra base de datos solo se modificará el estado del pedido (si está pagado o pendiente de pago). 

La tramitación de los pedidos se lleva a cabo por empleados de la empresa de venta online. A estos efectos, para cada empleado hay que almacenar su nif, nss, nombre y apellidos, fecha ingreso en la empresa, dirección completa y teléfono. Hay dos tipos de empleados, los de administración, que se encargan de recibir los pedidos, generar las facturas y comprobar los pagos, y los de almacén, que son los que preparan los pedidos. De estos últimos debe conocerse la zona del almacén donde están asignados.  

Cuando se recibe un pedido, éste se asigna a un único empleado de administración, que se encargará de su gestión y de ir revisando o actualizando el estado del pedido (recibido, pagado, en preparación…). Además, se genera una factura, que se enviará al cliente junto con el pedido. Cada factura está asociada a un único pedido y se identifica por un número único; además, en la factura física debe figurar la fecha de emisión de la factura, el importe total y los datos del cliente. Para los pedidos que estén ya enviados hay que conocer los empleados de almacén que participaron en su preparación (pueden ser varios), así como la fecha y hora en que se procedió a su envío. 

A fin de facilitar las compras a los clientes habituales, así como el seguimiento de sus pedidos y el acceso a ofertas especiales, si los clientes lo desean, pueden darse de alta como usuarios en la web. En este caso han de facilitar, además de los datos personales comentados anteriormente, una contraseña y su dirección de correo electrónico. Estos clientes, además, pueden puntuar los artículos y escribir opiniones sobre ellos. Se permite que un cliente puntúe y escriba opiniones del  mismo artículo más de una vez. Hay que recoger la fecha y la hora en que se registró cada opinión o puntuación. 

1. Realiza un diagrama Entidad/Relación que represente estas especificaciones, mostrando en ese mismo diagrama los atributos e identificadores de TODAS las entidades y subrayando los identificadores. De la misma forma presenta las asociaciones con sus nombres y atributos correspondientes (el diagrama completo debe estar en una sola cara).